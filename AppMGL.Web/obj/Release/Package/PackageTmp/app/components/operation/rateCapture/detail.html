<ng-form class="form-horizontal detail-container" name="form.detail" novalidate="novalidate">
    <p>&nbsp;</p>

    <div class="form-group">
        <label class="col-sm-2 control-label required">Carrier</label>
        <div class="col-sm-4">
            <select class="form-control" name="carrierID" ng-model="entity.carrierID" ng-options="t.contactID as t.companyName for t in lookups.siplContact" ng-change="getCarrierContracts(entity.carrierID)" ng-disabled="disabledUpdate" ng-required="requiredUpdate"></select>
        </div>
        <label class="col-sm-2 text-right control-label">contract No#</label>
        <div class="col-sm-2">            
            <select class="form-control" name="contactID" ng-model="entity.contractID" ng-options="t.contractID as t.contractNo for t in lookups.carrierContracts"  ng-disabled="disabledUpdate"></select>
        </div>    
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label required">Commodity</label>
        <div class="col-sm-2">
            <select class="form-control" name="commodityTypeID" ng-model="entity.commodityTypeID" ng-options="t.commodityTypeID as t.commodityType for t in lookups.commodityTypes" ng-disabled="disabledUpdate"></select>
        </div>
        <div class="form-group col-sm-4">
            <select multiple="multiple" ng-model="entity.commodityIds" ng-options="t.commodityId as t.name for t in lookups.commodities | filter: {commodityTypeID : entity.commodityTypeID} " ng-disabled="disabledUpdate"></select>
        </div>        
        <div class="col-sm-4">
            &nbsp;
        </div> 
    </div>
    <div class="form-group">
        <label class="col-sm-2 text-right control-label required">Effective Date</label>
        <div class="col-sm-2">
            <input type="text" class="form-control" name="effectiveDate" ng-model="entity.effectiveDate" ng-disabled="disabledUpdate" input-date="true" show-time="false" />
        </div>
        <label class="col-sm-2 text-right control-label required">Expiry Date</label>
        <div class="col-sm-2">
            <input type="text" class="form-control" name="expiryDate" ng-model="entity.expiryDate" ng-disabled="disabledUpdate" input-date="true" show-time="false" />
        </div>
        <label class="col-sm-2 text-right control-label">Applicable To Service</label>
        <div class="col-sm-2">
            <input type="text" class="form-control" maxlength="100" name="applicableToService" ng-model="entity.applicableToService" ng-disabled="disabledUpdate" />
        </div>
    </div>
    <hr class="line-info" />
    <div class="form-group">
        <label class="col-sm-2 control-label">Port of Loading</label>
        <div class="col-sm-2">
            <input type="text" class="form-control" name="origin" ng-model="entity.origin" uib-typeahead="origin=o.name + ' (' + o.countryName + ')' for o in callTypeahead($viewValue, 'LGVWPort', 'name', null)" typeahead-on-select="selectTypeahead($item, $model, $label, $event)" ng-blur="validateTypeahead($event)" lookup-module="origin" lookup-field="name" entity-key-field="portId" custom-clear="true" ng-disabled="disabledUpdate" ng-required="requiredUpdate" />
        </div>
        <label class="col-sm-2 control-label">Port of Destination</label>
        <div class="col-sm-2">
            <input type="text" class="form-control" name="discharge" ng-model="entity.discharge" uib-typeahead="discharge=o.name + ' (' + o.countryName + ')' for o in callTypeahead($viewValue, 'LGVWPort', 'name', null)" typeahead-on-select="selectTypeahead($item, $model, $label, $event)" ng-blur="validateTypeahead($event)" lookup-module="discharge" lookup-field="name" entity-key-field="portId" custom-clear="true" ng-disabled="disabledUpdate" ng-required="requiredUpdate" />
        </div>
        <div class="col-sm-4">
            &nbsp;
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">Origin Country</label>
        <div class="col-sm-2">
            <input type="text" class="form-control" name="originCountry" ng-model="entity.originCountry" uib-typeahead="originCountry=o.name for o in callTypeahead($viewValue, 'SIPLCountry', 'name', null)" typeahead-on-select="selectTypeahead($item, $model, $label, $event)" ng-blur="validateTypeahead($event)" lookup-module="originCountry" lookup-field="name" entity-key-field="countryId" custom-clear="true" ng-disabled="disabledUpdate" ng-required="requiredUpdate" />
        </div>  
        <label class="col-sm-2 control-label">Origin State</label>
        <div class="col-sm-2">
            <input type="text" class="form-control" name="originState" ng-model="entity.originState" uib-typeahead="originState=o.name for o in searchValues($viewValue,'originState')" typeahead-on-select="selectTypeahead($item, $model, $label, $event)" ng-blur="validateTypeahead($event)" lookup-module="originState" lookup-field="name" entity-key-field="stateId" custom-clear="true" ng-disabled="disabledUpdate" ng-required="disabledUpdate" />
        </div>  
        <label class="col-sm-2 control-label ">Origin City</label>
        <div class="col-sm-2">
            <input type="text" class="form-control" name="originCity" ng-model="entity.originCity" uib-typeahead="originCity=o.name for o in searchValues($viewValue,'originCity')" typeahead-on-select="selectTypeahead($item, $model, $label, $event)" ng-blur="validateTypeahead($event)" lookup-module="originCity" lookup-field="name" entity-key-field="cityId" custom-clear="true" ng-disabled="disabledUpdate" ng-required="requiredUpdate" />
        </div>         
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">Destination Country</label>
        <div class="col-sm-2">
            <input type="text" class="form-control" name="dischargeCountry" ng-model="entity.dischargeCountry" uib-typeahead="dischargeCountry=o.name for o in callTypeahead($viewValue, 'SIPLCountry', 'name', null)" typeahead-on-select="selectTypeahead($item, $model, $label, $event)" ng-blur="validateTypeahead($event)" lookup-module="dischargeCountry" lookup-field="name" entity-key-field="countryId" custom-clear="true" ng-disabled="disabledUpdate" />
        </div>      
        <label class="col-sm-2 control-label">Destination State</label>
        <div class="col-sm-2">
            <input type="text" class="form-control" name="dischargeState" ng-model="entity.dischargeState" uib-typeahead="dischargeState=o.name for o in searchValues($viewValue,'dischargeState')" typeahead-on-select="selectTypeahead($item, $model, $label, $event)" ng-blur="validateTypeahead($event)" lookup-module="dischargeState" lookup-field="name" entity-key-field="stateId" custom-clear="true" ng-disabled="disabledUpdate" />
        </div>
        <label class="col-sm-2 control-label">Destination City</label>
        <div class="col-sm-2">
            <input type="text" class="form-control" name="dischargeCity" ng-model="entity.dischargeCity" uib-typeahead="dischargeCity=o.name for o in searchValues($viewValue,'dischargeCity')" typeahead-on-select="selectTypeahead($item, $model, $label, $event)" ng-blur="validateTypeahead($event)" lookup-module="dischargeCity" lookup-field="name" entity-key-field="cityId" custom-clear="true" ng-disabled="disabledUpdate" />
        </div>
    </div>    
    <div class="form-group">
        <label class="col-sm-2 control-label">Origin Mode Of Service</label>
        <div class="col-sm-2">
            <select class="form-control" name="originModeID" ng-model="entity.originModeID" ng-options="item.optionValue as item.optionName for item in modeOfServices" ng-disabled="disabledUpdate"></select>
        </div>
        <label class="col-sm-2 control-label">Destination Mode Of Service</label>
        <div class="col-sm-2">
            <select class="form-control" name="destinationModeID" ng-model="entity.destinationModeID" ng-options="item.optionValue as item.optionName for item in modeOfServices" ng-disabled="disabledUpdate"></select>
        </div>
        <div class="col-sm-4">
            &nbsp;
        </div>
    </div>
    
    <hr class="line-info" />
    <div class="form-group">
        <label class="col-sm-2 control-label text-nowrap">Container Category</label>
        <div class="col-sm-2">
            <select class="form-control" name="categoryItem" ng-model="entity.categoryItem" ng-options="t as t.categoryName for t in lookups.containerCategories" ng-change="UpdateContainerSizes(entity.categoryItem)" ng-disabled="disabledUpdate"></select>
        </div>
        <label class="col-sm-2 control-label text-nowrap">Container Size</label>
        <div class="col-sm-2">
            <select class="form-control" name="containerTypeItem" ng-model="entity.containerTypeItem" ng-options="t as t.name for t in containerSizesList" ng-disabled="disabledUpdate"></select>
        </div>
        <label class="col-sm-2 control-label text-nowrap">Charge Name</label>
        <div class="col-sm-2">
            <select class="form-control" name="chargeItem" ng-model="entity.chargeItem" ng-options="t as t.description for t in lookups.carrierAllCharges" ng-disabled="disabledUpdate"></select>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label text-nowrap">Expiry Date</label>
        <div class="col-sm-2">
            <input type="text" class="form-control" name="chargeExpiryDate" ng-model="entity.chargeExpiryDate" ng-disabled="disabledUpdate" input-date="true" show-time="false" />
        </div>
        <label class="col-sm-2 control-label text-nowrap">Buying Amount</label>
        <div class="col-sm-2">
            <input type="number" min="0" max="99999" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" maxlength="5" class="form-control" name="buyingAmt" ng-model="entity.buyingAmt" ng-disabled="disabledUpdate" />
        </div>
        <div class="col-sm-4">
            <button name="btnAddContainer" type="button" class="btn btn-sm btn-primary" ng-click="addContainerRow()" action="add" entityid="0" uib-tooltip="Add Container" ng-disabled="disabledUpdate"><i class="fa fa-pencil"></i>Add</button>
        </div>
    </div>
    <div ng-show="containerServiceList.length > 0">
        <table class="table table-striped table-bordered table-hover " template-pagination="none">
            <thead>
                <tr class="bg-thead">
                    <th class="text-left  hidden-xs">Container Category</th>
                    <th class="text-left  hidden-xs">Continer Size</th>
                    <th class="text-left  hidden-xs">Charge Name</th>
                    <th class="text-left  hidden-xs">ExpiryDate</th>
                    <th class="text-left  hidden-xs">Buying Amount</th>
                    <th class="list-actions">Delete</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="containerService in containerServiceList">
                    <td>
                        {{containerService.categoryName}}
                    </td>
                    <td>
                        {{containerService.containerName}}
                    </td>
                    <td>
                        {{containerService.chargeName}}
                    </td>
                    <td>
                        {{containerService.chargeExpiryDate| date:'MM/dd/yyyy'}}
                    </td>
                    <td>
                        {{containerService.buyingAmt}}
                    </td>
                    <td>
                        <button type="button" class="btn btn-xs btn-danger" ng-click="removeContainerServiceRow($index)" uib-tooltip="Delete" ng-disabled="disabledUpdate"><i class="fa fa-remove"></i></button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div ng-show="containerChargesList.length > 0">
        <table class="table table-striped table-bordered table-hover " template-pagination="none">
            <thead>
                <tr class="bg-thead">
                    <th class="text-left  hidden-xs">Container Category</th>
                    <th class="text-left  hidden-xs">Continer Size</th>                   
                    <th class="text-left  hidden-xs">Total Buying Amount</th>                    
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="containerItem in containerChargesList">
                    <td>
                        {{containerItem.categoryName}}
                    </td>
                    <td>
                        {{containerItem.containerName}}
                    </td>                    
                    <td>
                        {{containerItem.total}}
                    </td>                   
                </tr>
            </tbody>
        </table>
    </div>

    <hr class="line-info" />
    <div class="form-group">
        <label class="col-sm-1 control-label">Notes</label>
        <div class="col-sm-2" show-errors="{ skipFormGroupCheck: true }">
            <textarea rows="2" class="form-control" name="notes" maxlength="500" ng-model="entity.notes" ng-disabled="disabledUpdate" />
        </div>
        <label class="col-sm-1 text-right control-label" ng-hide="!isVisible">AMD#</label>
        <div class="col-sm-2">
            <input type="text" class="form-control" ng-hide="!isVisible" maxlength="100" name="amdno" ng-model="entity.amdNO" ng-disabled="disabledUpdate" />
        </div>
        <label class="col-sm-1 text-right control-label" ng-hide="!isVisible">Remarks</label>
        <div class="col-sm-2">
            <textarea rows="2" class="form-control" name="remarks" ng-hide="!isVisible" maxlength="500" ng-model="entity.remarks" ng-disabled="disabledUpdate" />            
        </div>  
        <div class="col-sm-3">
            &nbsp;
        </div>     
    </div>
</ng-form>