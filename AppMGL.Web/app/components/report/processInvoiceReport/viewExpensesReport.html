<div class="modal-header">
    <h3 class="modal-title"> View Expenses Report</h3>
</div>
<div class="modal-body form-horizontal detail-container">
    <ng-form class="form-horizontal detail-container" name="form.detail" novalidate="novalidate">
        <div class="box box-primary">
            <div class="box-body">
                <div style="overflow:auto;">
                    <table ng-table="reportTable" class="table table-striped table-bordered table-hover" template-pagination="customPager">
                        <thead>
                            <tr class="bg-thead">

                                <th class="col-sm-1 text-left">Booking No</th>
                                <th class="col-sm-1 text-left">Customer</th>
                                <th class="col-sm-1 text-left">Vendor Name</th>
                                <th class="col-sm-1 text-left">Document Ref No</th>
                                <th class="col-sm-1 text-left">Document Date</th>
                                <th class="col-sm-1 text-left">Amount</th>
                                <th class="col-sm-1 text-left">Narration</th>
                                <th class="col-sm-1 text-left">Expense Head</th>
                                <th class="col-sm-1 text-left">ETS</th>
                                <th class="col-sm-1 text-left">ETA</th>
                                <th class="col-sm-1 text-left">Created On</th>
                                <th class="col-sm-1 text-left">Modified On</th>
                                <th class="col-sm-1 text-left">Remarks</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="ng-table-group" ng-repeat-start="group in $groups">
                                <td colspan="13">

                                    <a href="" ng-click="group.$hideRows = !group.$hideRows">
                                        <span class="fa" ng-class="{ 'fa-chevron-right': group.$hideRows, 'fa-chevron-down': !group.$hideRows }">System Ref No: </span>
                                        {{group.data[0].fileNo}}
                                    </a>
                                </td>
                            </tr>
                            <tr ng-hide="group.$hideRows" ng-repeat="d in group.data">
                                <td class="col-sm-1 text-left">
                                    {{d.bookingNo}}
                                </td>
                                <td class="col-sm-1 text-left">
                                    {{d.customerName}}
                                </td>
                                <td class="col-sm-1 text-left">
                                    {{d.vendorName}}
                                </td>
                                <td class="col-sm-1 text-left">
                                    {{d.docNo}}
                                </td>
                                <td class="col-sm-1 text-left">
                                    {{d.docDate | date:'MM/dd/yyyy'}}
                                </td>
                                <td class="col-sm-1 text-right">
                                    {{d.sellingAmount | number:2}}
                                </td>
                                <td class="col-sm-1 text-left">
                                    {{d.narration}}
                                </td>
                                <td class="col-sm-1 text-left">
                                    {{d.expenseHead}}
                                </td>
                                <td class="col-sm-1 text-left">
                                    {{d.ets | date:'MM/dd/yyyy'}}
                                </td>
                                <td class="col-sm-1 text-left">
                                    {{d.eta | date:'MM/dd/yyyy'}}
                                </td>
                                <td class="col-sm-1 text-left">
                                    {{d.createdOn | date:'MM/dd/yyyy'}}
                                </td>
                                <td class="col-sm-1 text-left">
                                    {{d.lastUpdatedDate | date:'MM/dd/yyyy'}}
                                </td>

                                <td class="col-sm-1 text-left">
                                    {{d.remarks}}
                                </td>

                            </tr>
                            <tr ng-repeat-end>

                                <td class="col-sm-1 text-right">
                                    &nbsp;
                                </td>
                                <td class="col-sm-1 text-right">
                                    &nbsp;
                                </td>
                                <td class="col-sm-1 text-right">
                                    &nbsp;
                                </td>
                                <td class="col-sm-1 text-right">
                                    &nbsp;
                                </td>
                                <td class="col-sm-1 text-right">
                                    Total
                                </td>
                                <td class="col-sm-1 text-right text-bold text-italic">
                                    {{sum(group.data, "sellingAmount") | number:2}}
                                </td>

                                <td class="col-sm-1 text-right">
                                    &nbsp;
                                </td>
                                <td class="col-sm-1 text-right">
                                    &nbsp;
                                </td>
                                <td class="col-sm-1 text-right">
                                    &nbsp;
                                </td>
                                <td class="col-sm-1 text-right">
                                    &nbsp;
                                </td>
                                <td class="col-sm-1 text-right">
                                    &nbsp;
                                </td>
                                <td class="col-sm-1 text-right">
                                    &nbsp;
                                </td>
                                <td class="col-sm-1 text-right">
                                    &nbsp;
                                </td>
                            </tr>
                            <tr ng-if="params.total() == 0">
                                <td class="text-center text-italic" colspan="13">No Record(s) Found</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </ng-form>
</div>
<div class="modal-footer">
    <div class="pull-right">        
        <button type="button" class="btn btn-default" ng-click="select('close')" action="select">Close</button>
    </div>
</div>

