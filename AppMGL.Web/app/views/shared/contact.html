<div class="form-group">
    <label class="col-sm-2 control-label {{requiredUpdate ? 'required' : ''}}">First Name</label>
    <div class="col-sm-4" show-errors="{ skipFormGroupCheck: true }">
        <input type="text" class="form-control" name="firstName" ng-model="entity.contact.firstName" maxlength="100" ng-disabled="disabledUpdate" ng-required="requiredUpdate" ng-blur="updateDisplayName()" />
    </div>
</div>
<div class="form-group">
    <label class="col-sm-2 control-label {{requiredUpdate ? 'required' : ''}}">Last Name</label>
    <div class="col-sm-4" show-errors="{ skipFormGroupCheck: true }">
        <input type="text" class="form-control" name="lastName" ng-model="entity.contact.lastName" maxlength="100" ng-disabled="disabledUpdate" ng-required="requiredUpdate" ng-blur="updateDisplayName()" />
    </div>
    <label class="col-sm-2 control-label">Middle Initial</label>
    <div class="col-sm-4">
        <input type="text" class="form-control" name="middleInitial" ng-model="entity.contact.middleInitial" maxlength="100" ng-disabled="disabledUpdate" ng-blur="updateDisplayName()" />
    </div>
</div>
<div class="form-group">
    <label class="col-sm-2 control-label">Prefix</label>
    <div class="col-sm-4">
        <input type="text" class="form-control" name="prefix" ng-model="entity.contact.prefix" maxlength="100" ng-disabled="disabledUpdate" ng-blur="updateDisplayName()" />
    </div>
    <label class="col-sm-2 control-label">Suffix</label>
    <div class="col-sm-4">
        <input type="text" class="form-control" name="suffix" ng-model="entity.contact.suffix" maxlength="100" ng-disabled="disabledUpdate" ng-blur="updateDisplayName()" />
    </div>
</div>
<div class="form-group">
    <label class="col-sm-2 control-label {{requiredUpdate ? 'required' : ''}}">Gender</label>
    <div class="col-sm-4" show-errors="{ skipFormGroupCheck: true }">
        <select class="form-control" name="genderId" ng-model="entity.contact.genderId" ng-options="t.enumValueId as t.enumValueCaption for t in lookups.genders" ng-disabled="disabledUpdate" ng-required="requiredUpdate"></select>
    </div>
    <label class="col-sm-2 control-label">DOB</label>
    <div class="col-sm-4">
        <input type="text" class="form-control" name="dob" ng-model="entity.contact.dob" ng-disabled="disabledUpdate" input-date="true" show-time="false" />
    </div>
</div>
<div class="form-group">
    <label class="col-sm-2 control-label">Designation</label>
    <div class="col-sm-4">
        <input type="text" class="form-control" name="designation" ng-model="entity.contact.designation" maxlength="100" ng-disabled="disabledUpdate" />
    </div>
    <label class="col-sm-2 control-label"><a ng-disabled="disabledUpdate" ng-click="callLookup($event)" lookup-module="company" lookup-field="companyId">Company</a></label>
    <div class="col-sm-4">
        <div class="input-group">
            <input type="text" class="form-control" name="companyName" ng-model="entity.contact.companyName" maxlength="200" ng-disabled="disabledUpdate" uib-typeahead="o.companyName for o in callTypeahead($viewValue, 'company', 'companyName', null)" typeahead-on-select="selectTypeahead($item, $model, $label, $event)" ng-blur="validateTypeahead($event)" lookup-module="company" lookup-field="companyName" custom-clear="true" />
            <span class="input-group-addon"><a class="fa fa-search" ng-disabled="disabledUpdate" ng-click="callLookup($event)" lookup-module="company" lookup-field="companyId"></a></span>
        </div>
    </div>
</div>
<div class="box box-info">
    <div class="box-header with-border">
        <h3 class="box-title">Email Information</h3>
        <div class="box-tools pull-right">
            <button class="btn btn-sm btn-info" box-widget="collapse"><i class="fa fa-minus" ng-hide="true"></i><span>Hide</span></button>
        </div>
    </div>
    <div class="box-body">
        <div class="form-group">
            <label class="col-sm-2 text-right">IsDefault</label>
            <label class="col-sm-4">Email Address</label>
            <label class="col-sm-6">Email Type</label>
        </div>
        <div class="form-group" ng-repeat="email in entity.contact.location.emails">
            <div class="col-sm-2 text-right radio-control">
                <input type="radio" name="isDefaultEmail" ng-model="email.isDefault" ng-value="true" ng-checked="email.isDefault" ng-click="setDefault('emails', email)" ng-disabled="disabledUpdate" />
            </div>
            <div class="col-sm-4" show-errors="{ skipFormGroupCheck: true }">
                <input type="email" class="form-control" name="emailAddress" ng-model="email.emailAddress" maxlength="200" ng-disabled="disabledUpdate" />
            </div>
            <div class="col-sm-2">
                <select class="form-control" name="emailTypeId" ng-model="email.emailTypeId" ng-options="t.enumValueId as t.enumValueCaption for t in lookups.emailTypes" ng-disabled="disabledUpdate"></select>
            </div>
            <div class="col-sm-4 text-right">
                <button type="button" class="btn btn-sm btn-primary" ng-show="$last" ng-disabled="disabledUpdate" ng-click="dynamicRow('emails', true, email)"><i class="fa fa-plus"></i></button>
                <button type="button" class="btn btn-sm btn-danger" ng-hide="entity.contact.location.emails.length==1" ng-disabled="disabledUpdate" ng-click="dynamicRow('emails', false, email)" emailId="{{email.emailId}}"><i class="fa fa-minus"></i></button>
            </div>
        </div>
    </div>
</div>
<div class="box box-info">
    <div class="box-header with-border">
        <h3 class="box-title">Address Information</h3>
        <div class="box-tools pull-right">
            <button class="btn btn-sm btn-info" box-widget="collapse"><i class="fa fa-minus" ng-hide="true"></i><span>Hide</span></button>
        </div>
    </div>
    <div class="box-body">
        <div ng-repeat="address in entity.contact.location.addresses">
            <div class="form-group">

                <label class="col-sm-2 control-label">Address Type</label>
                <div class="col-sm-2">
                    <select class="form-control" name="addressTypeId" ng-model="address.addressTypeId" ng-options="t.enumValueId as t.enumValueCaption for t in lookups.addressTypes" ng-disabled="disabledUpdate"></select>
                </div>
                <div class="col-sm-offset-4 col-sm-2 radio-control">
                    <label>
                        <input type="radio" name="isDefaultAddress" ng-model="address.isDefault" ng-value="true" ng-checked="address.isDefault" ng-click="setDefault('addresses', address)" ng-disabled="disabledUpdate" /> IsDefault
                    </label>
                </div>
                <div class="col-sm-2 text-right">
                    <button type="button" class="btn btn-sm btn-primary" ng-show="$last" ng-disabled="disabledUpdate" ng-click="dynamicRow('addresses', true, address)"><i class="fa fa-plus"></i></button>
                    <button type="button" class="btn btn-sm btn-danger" ng-hide="entity.contact.location.addresses.length==1" ng-disabled="disabledUpdate" ng-click="dynamicRow('addresses', false, address)" addressId="{{address.addressId}}"><i class="fa fa-minus"></i></button>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Country</label>
                <div class="col-sm-4">
                    <select class="form-control" name="countryId" ng-model="address.countryId" ng-options="t.countryId as t.countryName for t in lookups.countries" ng-disabled="disabledUpdate" ng-change="changeCountry(address.countryId)"></select>
                </div>
                <label class="col-sm-2 control-label">State</label>
                <div class="col-sm-4">
                    <select class="form-control" name="stateId" ng-model="address.stateId" ng-options="t.stateId as t.stateName for t in lookups.states | filter:{ 'countryId': address.countryId }" ng-disabled="disabledUpdate"></select>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Address</label>
                <div class="col-sm-4">
                    <input type="text" class="form-control" name="addressLine1" ng-model="address.addressLine1" maxlength="1000" ng-disabled="disabledUpdate" />
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-4">
                    <input type="text" class="form-control" name="addressLine2" ng-model="address.addressLine2" maxlength="1000" ng-disabled="disabledUpdate" />
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">City</label>
                <div class="col-sm-4">
                    <input type="text" class="form-control" name="city" ng-model="address.city" maxlength="100" ng-disabled="disabledUpdate" />
                </div>
                <label class="col-sm-2 control-label">Zip Code</label>
                <div class="col-sm-2">
                    <input type="text" class="form-control text-left" name="zipCode" ng-model="address.zipCode" ng-disabled="disabledUpdate" input-number="false" max-digit="5" />
                </div>
            </div>
            <hr ng-hide="$last" />
        </div>
    </div>
</div>
<div class="box box-info">
    <div class="box-header with-border">
        <h3 class="box-title">Phone Information</h3>
        <div class="box-tools pull-right">
            <button class="btn btn-sm btn-info" box-widget="collapse"><i class="fa fa-minus" ng-hide="true"></i><span>Hide</span></button>
        </div>
    </div>
    <div class="box-body">
        <div class="form-group">
            <label class="col-sm-2 text-right">IsDefault</label>
            <label class="col-sm-2">Calling Code</label>
            <label class="col-sm-3">Phone Number</label>
            <label class="col-sm-1">Extension</label>
            <label class="col-sm-4">Phone Type</label>
        </div>
        <div class="form-group" ng-repeat="phone in entity.contact.location.phones">
            <div class="col-sm-2 text-right radio-control">
                <input type="radio" name="isDefaultPhone" ng-model="phone.isDefault" ng-value="true" ng-checked="phone.isDefault" ng-click="setDefault('phones', phone)" ng-disabled="disabledUpdate" />
            </div>
            <div class="col-sm-2">
                <select class="form-control" name="countryId" ng-model="phone.countryId" ng-options="t.countryId as (t.countryCode + ' [' + t.callingCode + ']') for t in lookups.countries" ng-disabled="disabledUpdate"></select>
            </div>
            <div class="col-sm-3">
                <input type="text" class="form-control" name="phoneNumber" ng-model="phone.phoneNumber" ng-disabled="disabledUpdate" ui-mask="(999) 999-9999" />
            </div>
            <div class="col-sm-1">
                <input type="text" class="form-control" name="extension" ng-model="phone.extension" maxlength="10" ng-disabled="disabledUpdate" />
            </div>
            <div class="col-sm-2">
                <select class="form-control" name="phoneTypeId" ng-model="phone.phoneTypeId" ng-options="t.enumValueId as t.enumValueCaption for t in lookups.phoneTypes" ng-disabled="disabledUpdate"></select>
            </div>
            <div class="col-sm-2 text-right">
                <button type="button" class="btn btn-sm btn-primary" ng-show="$last" ng-disabled="disabledUpdate" ng-click="dynamicRow('phones', true, phone)"><i class="fa fa-plus"></i></button>
                <button type="button" class="btn btn-sm btn-danger" ng-hide="entity.contact.location.phones.length==1" ng-disabled="disabledUpdate" ng-click="dynamicRow('phones', false, phone)" phoneId="{{phone.phoneId}}"><i class="fa fa-minus"></i></button>
            </div>
        </div>
    </div>
</div>
<div class="hide">
    <input type="hidden" name="contactId" ng-model="entity.contact.contactId" />
    <input type="hidden" name="companyId" ng-model="entity.contact.companyId" />
</div>
